{"version":3,"sources":["../../../../src/build/webpack/loaders/next-metadata-image-loader.ts"],"names":["fs","path","loaderUtils","getImageSize","imageExtMimeTypeMap","fileExists","WEBPACK_RESOURCE_QUERIES","normalizePathSep","nextMetadataImageLoader","content","options","getOptions","type","segment","pageExtensions","basePath","numericSizes","resourcePath","rootContext","context","name","fileNameBase","ext","parse","extension","slice","opts","contentHash","interpolateName","interpolatedName","isDynamicResource","includes","pageSegment","hashQuery","pathnamePrefix","join","mod","Promise","res","rej","loadModule","err","_source","_sourceMap","module","exportedFieldsExcludingDefault","dependencies","filter","dep","constructor","map","field","JSON","stringify","metadataImageMeta","imageSize","catch","Error","imageData","width","height","sizes","altPath","dirname","alt","readFile","raw"],"mappings":"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"}