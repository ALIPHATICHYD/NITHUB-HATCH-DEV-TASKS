{"version":3,"sources":["../../src/server/require.ts"],"names":["fs","promises","join","FONT_MANIFEST","PAGES_MANIFEST","SERVER_DIRECTORY","APP_PATHS_MANIFEST","normalizeLocalePath","normalizePagePath","denormalizePagePath","PageNotFoundError","MissingStaticPage","LRUCache","isDev","process","env","NODE_ENV","pagePathCache","get","_key","set","has","max","loadManifest","manifestPath","JSON","parse","readFileSync","require","getMaybePagePath","page","distDir","locales","isAppPath","cacheKey","serverBuildPath","appPathsManifest","pagesManifest","err","console","error","checkManifest","manifest","curPath","manifestNoLocales","key","Object","keys","pathname","pagePath","path","getPagePath","requirePage","undefined","endsWith","readFile","catch","message","requireFontManifest","fontManifest"],"mappings":"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"}