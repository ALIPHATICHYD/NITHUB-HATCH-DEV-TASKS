{"version":3,"sources":["../../../../../src/client/components/router-reducer/reducers/server-action-reducer.ts"],"names":["serverActionReducer","fetchServerAction","state","actionId","actionArgs","body","encodeReply","res","fetch","method","headers","Accept","RSC_CONTENT_TYPE_HEADER","NEXT_ROUTER_STATE_TREE","JSON","stringify","tree","process","env","__NEXT_ACTIONS_DEPLOYMENT_ID","NEXT_DEPLOYMENT_ID","nextUrl","NEXT_URL","location","get","revalidatedParts","revalidatedHeader","parse","paths","tag","cookie","e","redirectLocation","URL","addBasePath","window","origin","undefined","isFlightResponse","response","createFromFetch","Promise","resolve","callServer","payload","actionFlightData","actionResult","action","mutable","serverActionApplied","inFlightServerAction","previousTree","previousUrl","canonicalUrl","createRecordFromThenable","readRecordValue","prefetchCache","clear","length","href","createHrefFromUrl","previousCacheEntry","set","data","kind","PrefetchKind","TEMPORARY","prefetchTime","Date","now","treeAtTimeOfPrefetch","lastUsedTime","reject","getRedirectError","toString","RedirectType","push","setTimeout","changeByServerResponse","status","value"],"mappings":"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"}